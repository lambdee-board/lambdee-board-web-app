---
openapi: 3.0.1
info:
  title: API V1
  version: v1
paths:
  "/api/boards":
    get:
      summary: list boards
      tags:
      - Boards
      parameters:
      - name: limit
        in: query
        description: Decides how many entities should be returned
        example: 3
        schema:
          type: integer
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                  - id: 1
                    name: Fluorine
                    workspace_id: 1
                    created_at: '2022-05-18T12:03:09.282Z'
                    updated_at: '2022-05-18T12:03:09.282Z'
                    workspace_url: http://www.example.com/api/workspaces/1
                    url: http://www.example.com/api/boards/1
                  - id: 2
                    name: Copernicium
                    workspace_id: 2
                    created_at: '2022-05-18T12:03:09.283Z'
                    updated_at: '2022-05-18T12:03:09.283Z'
                    workspace_url: http://www.example.com/api/workspaces/2
                    url: http://www.example.com/api/boards/2
                  - id: 3
                    name: Gadolinium
                    workspace_id: 3
                    created_at: '2022-05-18T12:03:09.284Z'
                    updated_at: '2022-05-18T12:03:09.284Z'
                    workspace_url: http://www.example.com/api/workspaces/3
                    url: http://www.example.com/api/boards/3
                  - id: 4
                    name: Cerium
                    workspace_id: 4
                    created_at: '2022-05-18T12:03:09.285Z'
                    updated_at: '2022-05-18T12:03:09.285Z'
                    workspace_url: http://www.example.com/api/workspaces/4
                    url: http://www.example.com/api/boards/4
                  - id: 5
                    name: Tin
                    workspace_id: 5
                    created_at: '2022-05-18T12:03:09.287Z'
                    updated_at: '2022-05-18T12:03:09.287Z'
                    workspace_url: http://www.example.com/api/workspaces/5
                    url: http://www.example.com/api/boards/5
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/board_response"
    post:
      summary: create board
      tags:
      - Boards
      parameters: []
      responses:
        '201':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 6
                    name: New Board
                    workspace_id: 6
                    created_at: '2022-05-18T12:03:09.345Z'
                    updated_at: '2022-05-18T12:03:09.345Z'
                    workspace_url: http://www.example.com/api/workspaces/6
                    url: http://www.example.com/api/boards/6
              schema:
                "$ref": "#/components/schemas/board_response"
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/board_request"
  "/api/boards/{id}":
    parameters:
    - name: id
      in: path
      description: id
      required: true
      schema:
        type: string
    get:
      summary: show board
      tags:
      - Boards
      parameters:
      - name: tasks
        in: query
        type: string
        schema:
          "$ref": "#/components/schemas/include_associated_enum"
      responses:
        '200':
          description: successful include visible
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 7
                    name: Gallium
                    workspace_id: 7
                    created_at: '2022-05-18T12:03:09.351Z'
                    updated_at: '2022-05-18T12:03:09.351Z'
                    workspace_url: http://www.example.com/api/workspaces/7
                    url: http://www.example.com/api/boards/7
                successful include visible:
                  summary: successful include visible
                  value:
                    id: 8
                    name: Fermium
                    workspace_id: 8
                    created_at: '2022-05-18T12:03:09.364Z'
                    updated_at: '2022-05-18T12:03:09.364Z'
                    workspace_url: http://www.example.com/api/workspaces/8
                    url: http://www.example.com/api/boards/8
              schema:
                "$ref": "#/components/schemas/board_response"
    put:
      summary: update board
      tags:
      - Boards
      parameters: []
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 9
                    name: New Name
                    workspace_id: 9
                    created_at: '2022-05-18T12:03:09.375Z'
                    updated_at: '2022-05-18T12:03:09.382Z'
                    workspace_url: http://www.example.com/api/workspaces/9
                    url: http://www.example.com/api/boards/9
              schema:
                "$ref": "#/components/schemas/board_response"
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/board_request"
    delete:
      summary: delete board
      tags:
      - Boards
      responses:
        '204':
          description: successful
  "/api/lists":
    get:
      summary: List lists
      tags:
      - Lists
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value: []
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/list_response"
    post:
      summary: Create List
      tags:
      - Lists
      parameters: []
      responses:
        '201':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 1
                    name: New List
                    pos: 1212.0
                    deleted: false
                    board_id: 11
                    created_at: '2022-05-18T12:03:09.421Z'
                    updated_at: '2022-05-18T12:03:09.421Z'
                    url: http://www.example.com/api/lists/1
              schema:
                "$ref": "#/components/schemas/list_response"
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/list_request"
  "/api/lists/{id}":
    parameters:
    - name: id
      in: path
      description: id
      required: true
      schema:
        type: string
    get:
      summary: Show List
      tags:
      - Lists
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 2
                    name: coral
                    pos: 19866.0
                    deleted: false
                    board_id: 12
                    created_at: '2022-05-18T12:03:09.428Z'
                    updated_at: '2022-05-18T12:03:09.428Z'
                    url: http://www.example.com/api/lists/2
              schema:
                "$ref": "#/components/schemas/list_response"
    put:
      summary: Update list
      tags:
      - Lists
      parameters: []
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 3
                    name: New Name
                    pos: 27902.0
                    deleted: false
                    board_id: 13
                    created_at: '2022-05-18T12:03:09.439Z'
                    updated_at: '2022-05-18T12:03:09.446Z'
                    url: http://www.example.com/api/lists/3
              schema:
                "$ref": "#/components/schemas/list_response"
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/list_request"
    delete:
      summary: Delete list
      tags:
      - Lists
      responses:
        '204':
          description: successful
  "/api/users":
    get:
      summary: List users
      tags:
      - Users
      parameters:
      - name: limit
        in: query
        description: Decides how many entities should be returned
        example: 3
        schema:
          type: integer
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                  - id: 12
                    name: Dorcas Armstrong
                    email: dorcas_armstrong.1652875389@example.com
                    avatar_url: https://www.gravatar.com/avatar/1d15bbcad2a63ecc18e9bd56ec4e4ffb
                    created_at: '2022-05-18T12:03:09.459Z'
                    updated_at: '2022-05-18T12:03:09.459Z'
                    url: http://www.example.com/api/users/12
                  - id: 13
                    name: Pete Stroman
                    email: pete_stroman.1652875389@example.com
                    avatar_url: https://www.gravatar.com/avatar/9abb4c7879418efdad630cc6861b7d0d
                    created_at: '2022-05-18T12:03:09.461Z'
                    updated_at: '2022-05-18T12:03:09.461Z'
                    url: http://www.example.com/api/users/13
                  - id: 14
                    name: Zena Wolf
                    email: zena_wolf.1652875389@example.com
                    avatar_url: https://www.gravatar.com/avatar/069d158d5be911d9e816ce32fd953813
                    created_at: '2022-05-18T12:03:09.462Z'
                    updated_at: '2022-05-18T12:03:09.462Z'
                    url: http://www.example.com/api/users/14
                  - id: 15
                    name: Raul Pfannerstill
                    email: raul_pfannerstill.1652875389@example.com
                    avatar_url: https://www.gravatar.com/avatar/02f28b622c6aa20e3bd3cb1f65341a8d
                    created_at: '2022-05-18T12:03:09.463Z'
                    updated_at: '2022-05-18T12:03:09.463Z'
                    url: http://www.example.com/api/users/15
                  - id: 16
                    name: Peggy Flatley MD
                    email: peggy_flatley_md.1652875389@example.com
                    avatar_url: https://www.gravatar.com/avatar/dee2a5f79d8b2cea7ad68a6f1de06068
                    created_at: '2022-05-18T12:03:09.464Z'
                    updated_at: '2022-05-18T12:03:09.464Z'
                    url: http://www.example.com/api/users/16
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/user_response"
    post:
      summary: Create a user
      tags:
      - Users
      parameters: []
      responses:
        '201':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 17
                    name: New User
                    email: new_user@example.com
                    avatar_url: https://www.gravatar.com/avatar/d01d74e2303cfd7320eca0fd8ed8bb91
                    created_at: '2022-05-18T12:03:09.482Z'
                    updated_at: '2022-05-18T12:03:09.482Z'
                    url: http://www.example.com/api/users/17
              schema:
                "$ref": "#/components/schemas/user_response"
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/user_request"
  "/api/users/current":
    get:
      summary: Show the currently signed in user
      tags:
      - Users
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 18
                    name: Ophelia Herzog Sr.
                    email: ophelia_herzog_sr.1652875389@example.com
                    avatar_url: https://www.gravatar.com/avatar/b88684e8e12738ec45557b7f2d38cfe2
                    created_at: '2022-05-18T12:03:09.488Z'
                    updated_at: '2022-05-18T12:03:09.488Z'
                    url: http://www.example.com/api/users/18
              schema:
                "$ref": "#/components/schemas/user_response"
  "/api/users/{id}":
    parameters:
    - name: id
      in: path
      description: id
      required: true
      schema:
        type: string
    get:
      summary: Show a user
      tags:
      - Users
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 19
                    name: Laure Willms
                    email: laure_willms.1652875389@example.com
                    avatar_url: https://www.gravatar.com/avatar/0559d135c12e3602dd09d36a00166385
                    created_at: '2022-05-18T12:03:09.497Z'
                    updated_at: '2022-05-18T12:03:09.497Z'
                    url: http://www.example.com/api/users/19
              schema:
                "$ref": "#/components/schemas/user_response"
    put:
      summary: Update a user
      tags:
      - Users
      parameters: []
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 20
                    name: New Name
                    email: new_email@example.com
                    avatar_url: https://www.gravatar.com/avatar/560fe38b92f371bd514190a64a9c9159
                    created_at: '2022-05-18T12:03:09.509Z'
                    updated_at: '2022-05-18T12:03:09.516Z'
                    url: http://www.example.com/api/users/20
              schema:
                "$ref": "#/components/schemas/user_response"
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/user_request"
    delete:
      summary: Delete a user
      tags:
      - Users
      responses:
        '204':
          description: successful
  "/api/workspaces":
    get:
      summary: list workspaces
      tags:
      - Workspaces
      parameters:
      - name: limit
        in: query
        description: Decides how many entities should be returned
        example: 3
        schema:
          type: integer
      - name: include
        in: query
        description: Choose which associated entities should be included in the response
        example: boards
        schema:
          type: string
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful with boards:
                  summary: successful with boards
                  value:
                  - id: 15
                    name: Redhold
                    created_at: '2022-05-18T12:03:09.540Z'
                    updated_at: '2022-05-18T12:03:09.540Z'
                    url: http://www.example.com/api/workspaces/15
                successful with limit:
                  summary: successful with limit
                  value:
                  - id: 17
                    name: Treeflex
                    created_at: '2022-05-18T12:03:09.569Z'
                    updated_at: '2022-05-18T12:03:09.569Z'
                    url: http://www.example.com/api/workspaces/17
                  - id: 18
                    name: Sonsing
                    created_at: '2022-05-18T12:03:09.570Z'
                    updated_at: '2022-05-18T12:03:09.570Z'
                    url: http://www.example.com/api/workspaces/18
                  - id: 19
                    name: Asoka
                    created_at: '2022-05-18T12:03:09.572Z'
                    updated_at: '2022-05-18T12:03:09.572Z'
                    url: http://www.example.com/api/workspaces/19
                  - id: 20
                    name: Zontrax
                    created_at: '2022-05-18T12:03:09.573Z'
                    updated_at: '2022-05-18T12:03:09.573Z'
                    url: http://www.example.com/api/workspaces/20
                  - id: 21
                    name: Tres-Zap
                    created_at: '2022-05-18T12:03:09.574Z'
                    updated_at: '2022-05-18T12:03:09.574Z'
                    url: http://www.example.com/api/workspaces/21
                successful:
                  summary: successful
                  value:
                  - id: 22
                    name: Gembucket
                    created_at: '2022-05-18T12:03:09.586Z'
                    updated_at: '2022-05-18T12:03:09.586Z'
                    url: http://www.example.com/api/workspaces/22
                  - id: 23
                    name: Holdlamis
                    created_at: '2022-05-18T12:03:09.589Z'
                    updated_at: '2022-05-18T12:03:09.589Z'
                    url: http://www.example.com/api/workspaces/23
                  - id: 24
                    name: Bitwolf
                    created_at: '2022-05-18T12:03:09.591Z'
                    updated_at: '2022-05-18T12:03:09.591Z'
                    url: http://www.example.com/api/workspaces/24
                  - id: 25
                    name: Otcom
                    created_at: '2022-05-18T12:03:09.593Z'
                    updated_at: '2022-05-18T12:03:09.593Z'
                    url: http://www.example.com/api/workspaces/25
                  - id: 26
                    name: Alphazap
                    created_at: '2022-05-18T12:03:09.595Z'
                    updated_at: '2022-05-18T12:03:09.595Z'
                    url: http://www.example.com/api/workspaces/26
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/workspace_response"
    post:
      summary: create workspace
      tags:
      - Workspaces
      parameters: []
      responses:
        '201':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 27
                    name: New Workspace
                    created_at: '2022-05-18T12:03:09.614Z'
                    updated_at: '2022-05-18T12:03:09.614Z'
                    url: http://www.example.com/api/workspaces/27
              schema:
                "$ref": "#/components/schemas/workspace_response"
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/workspace_request"
  "/api/workspaces/{id}":
    parameters:
    - name: id
      in: path
      description: id
      required: true
      schema:
        type: string
    get:
      summary: show workspace
      tags:
      - Workspaces
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 28
                    name: Hatity
                    created_at: '2022-05-18T12:03:09.621Z'
                    updated_at: '2022-05-18T12:03:09.621Z'
                    url: http://www.example.com/api/workspaces/28
              schema:
                "$ref": "#/components/schemas/workspace_response"
    put:
      summary: update workspace
      tags:
      - Workspaces
      parameters: []
      responses:
        '200':
          description: successful
          content:
            application/json:
              examples:
                successful:
                  summary: successful
                  value:
                    id: 29
                    name: New Name
                    created_at: '2022-05-18T12:03:09.632Z'
                    updated_at: '2022-05-18T12:03:09.638Z'
                    url: http://www.example.com/api/workspaces/29
              schema:
                "$ref": "#/components/schemas/workspace_response"
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/workspace_request"
    delete:
      summary: delete workspace
      tags:
      - Workspaces
      responses:
        '204':
          description: successful
components:
  schemas:
    include_associated_enum:
      type: string
      enum:
      - visible
      - archived
      - all
    user_response:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        email:
          type: string
        created_at:
          type: string
          format: date_time
        updated_at:
          type: string
          format: date_time
        avatar_url:
          type: string
        url:
          type: string
      required:
      - id
      - name
      - email
      - created_at
      - updated_at
    user_request:
      type: object
      properties:
        name:
          type: string
        email:
          type: string
      required:
      - name
      - email
    task_response:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        description:
          type: string
        pos:
          type: number
          format: float
        list_id:
          type: integer
        created_at:
          type: string
          format: date_time
        updated_at:
          type: string
          format: date_time
        url:
          type: string
        users:
          type: array
          items:
            "$ref": "#/components/schemas/user_response"
      required:
      - id
      - name
      - pos
      - list_id
      - created_at
      - updated_at
    list_response:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        pos:
          type: number
        deleted:
          type: boolean
        board_id:
          type: integer
        created_at:
          type: string
          format: date_time
        updated_at:
          type: string
          format: date_time
        url:
          type: string
        board_url:
          type: string
        tasks:
          type: array
          items:
            "$ref": "#/components/schemas/task_response"
      required:
      - id
      - name
      - board_id
      - created_at
      - updated_at
    list_request:
      type: object
      properties:
        name:
          type: string
        pos:
          type: number
        deleted:
          type: boolean
        board_id:
          type: integer
      required:
      - name
      - board_id
    board_response:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        workspace_id:
          type: integer
        created_at:
          type: string
          format: date_time
        updated_at:
          type: string
          format: date_time
        url:
          type: string
        workspace_url:
          type: string
        lists:
          type: array
          items:
            "$ref": "#/components/schemas/list_response"
      required:
      - id
      - name
      - workspace_id
      - created_at
      - updated_at
    board_request:
      type: object
      properties:
        name:
          type: string
        workspace_id:
          type: integer
      required:
      - name
      - workspace_id
    workspace_response:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        created_at:
          type: string
          format: date_time
        updated_at:
          type: string
          format: date_time
        url:
          type: string
        boards:
          "$ref": "#/components/schemas/board_response"
          nullable: true
      required:
      - id
      - name
      - created_at
      - updated_at
    workspace_request:
      type: object
      properties:
        name:
          type: string
      required:
      - name
servers:
- url: "{defaultProtocol}://{defaultHost}"
  variables:
    defaultProtocol:
      default: http
    defaultHost:
      default: localhost:3000
